# ***MATLAB REQUIRED + 20 GB of Disk Space*** (Artifact) Case Study: Neural Network Malware Detection Verification for Feature and Image Datasets
This artifact is used to reproduce the results shown in _Case Study: Neural Network Malware Detection Verification for Feature and Image Datasets_. 

## Installation
1. Clone this repository and navigate to the directory
```
git clone https://github.com/pkrobinette/verify_malware && cd verify_malware
```

2. Download the necessary datasets into the `verify_malware/archive` folder
> https://vanderbilt.box.com/s/6n18ekqikfamr2xq2uwbhs0dj1r7a1yn

Running `ls archive` should return the following:
- `bodmas-feature-analysis-NEW.csv`
- `bodmas.mat`
- `bodmas.npz`
- `malimg_dataset.tar.gz`
- `malimg_verification_image_paths.csv`

## Artifact Instructions (Requires ~20 GB of disk space)
Instructions to train, test, and verify neural network classifiers. **NOTE:** Results will not exactly match paper results as weight initialization will affect training. While not significantly changing the results, this could alter tables and figures slightly.

1. Make sure you are in the verify_malware directory and run the following:
```
chmod +x run_artifact.sh && ./run_artifact.sh
```

2. Artifacts and corresponding paper labels are listed below:
All results are saved to the `results/artifacts` folder. The results are indexable by their reference name in the paper.

| Artifact | Result Location | Description|
| -------- | -------- | -------- |
| **Table 4:**   | `results/Table_4_bodmas` | BODMAS classifier testing results.|
| **Table 4:**   | `results/Table_4_malimg` | Malimg classifier testing results.|
| **Figure 4a:** | `results/Fig_4a` | BODMAS - all features robustness results. |
| **Figure 4b:** | `results/Fig_4b` | BODMAS - all features time results. |
| **Figure 5a:** | `results/Fig_5a` | BODMAS - discrete and continuous features robustness results. |
| **Figure 5b:** |`results/Fig_5b` | BODMAS - discrete and continuous features time results. |
| **Figure 6a:** | `results/Fig_6a` | BODMAS - discrete features robustness results. |
| **Figure 6b:** | `results/Fig_6b` | BODMAS - discrete features time results. |
| **Figure 7a:** | `results/Fig_7a` | BODMAS - continuous features robustness results. |
| **Figure 7b:** | `results/Fig_7b` | BODMAS - continuous features time results. |
| **Figure 8a:** | `results/Fig_8a` | Malimg robustness results. |
| **Figure 8b:** |  `results/Fig_8b` | Malimg time results |

## Notes
If there is not enough space to run, try:
```
docker system prune
```
